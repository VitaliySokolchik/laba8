#include"File.h"

using namespace std;
int main()
{
    setlocale(LC_ALL, "Russian");
    Teacher t1("Ия_Игоревна_Ташлыкова-Бушкевич", 2, 4, "Физика", 2);
    Teacher t2("Сергей_Валентинович_Батюков", 3, 4, "ТЭЦ", 3);
    Teacher t3("Юлия_Юрьевна_Желтко", 2, 9, "КПИЯП", 7);
    Teacher t4("Константин_Игоревчи_Давыдович", 3, 12, "БЖЧ", 8);
    Teacher t5("Светлана_Сергеевна_Стома", 4, 4, "ЭП", 3);
    Teacher un[5] = { t1,t2,t3,t4,t5 };
    cout << "\n-------TXT в TXT-------\n";
    File f1("T1.txt", txt);
    f1.open("w");
    f1.set_size(5);
    f1 << t1;
    f1 << t2;
    f1 << t3;
    f1 << t4;
    f1 << t5;
    f1.close();
    f1.open("r");
    cout << f1;
    f1.close();
    cout << "\n--------------------------------------------------------";
    cout << "\n-------TXT в BIN-------\n";
    File f2("T2.txt", bin);
    f2.open("w");
    f2.set_size(5);
    f2 << t1;
    f2 << t2;
    f2 << t3;
    f2 << t4;
    f2 << t5;
    f2.close();
    f2.open("r");
    cout << f2;
    f2.close();
    cout << "\n--------------------------------------------------------";
    cout << "\n-------BIN в BIN-------\n";
    File f3("T3.bin", bin);
    f3.open("w");
    f3.set_size(5);
    f3 << t1;
    f3 << t2;
    f3 << t3;
    f3 << t4;
    f3 << t5;
    f3.close();
    f3.open("r");
    cout << f3;
    f3.close();
    cout << "\n--------------------------------------------------------\n";

    int i = 0, line = 0;
    do {
        cout << "Введите номер для изменения данных:" << endl;
        cin >> line;
        f2.edit(line, un);
        f2.open("r");
        cout << "\n--------------------------------------------------------\n";
        cout << f2;
        f2.close();
        cout << "Вы хотите изменить что-то ещё?\n1 - Да\n0 - Нет" << endl;
        rewind(stdin);
        cin >> i;
    } while (i);
    cout << "\n--------------------------------------------------------\n";
    cout << "Сортировка по именам:" << endl;
    cout << "\n--------------------------------------------------------\n";
    f1.bouble_sort_fio();
    f1.open("r");
    cout << f1;
    f1.close();
    cout << "\n--------------------------------------------------------\n";
    cout << "Сортировка по количеству групп:" << endl;
    cout << "\n--------------------------------------------------------\n";
    f1.bouble_sort_groups();
    f1.open("r");
    cout << f1;
    f1.close();
    cout << "\n--------------------------------------------------------\n";
    cout << "Сортировка по количеству лабораторных работ:" << endl;
    cout << "\n--------------------------------------------------------\n";
    f1.bouble_sort_labs();
    f1.open("r");
    cout << f1;
    f1.close();
    cout << "\n--------------------------------------------------------\n";
    cout << "Сортировка по предметам:" << endl;
    cout << "\n--------------------------------------------------------\n";
    f1.bouble_sort_subject();
    f1.open("r");
    cout << f1;
    f1.close();
    cout << "\n--------------------------------------------------------\n";
    cout << "Сортировка по количеству выданных лабораторных работ:" << endl;
    cout << "\n--------------------------------------------------------\n";

    Ring r;
    f1.open("r");
    Teacher t;
    for (int i = 0; i < f1.get_size(); i++)
    {
        t = f1.read();
        r.push(t);
    }
    r.output();
    Iterator I(&r);
    I.shell();
    cout << "\n--------------------------------------------------------\n";
    cout << "\nСортировка по количеству невыданных лабораторных работ\n";
    cout << "\n--------------------------------------------------------\n";
    r.output();
    cout << "\n--------------------------------------------------------\n";
    cout << "\nСортировка предметов в алфавитном порядке в зависимости от количества не выданных лабораторных работ\n";
    cout << "\n--------------------------------------------------------\n";
    I.sort_special();
    r.output();
    cout << "Удаление данных первого преподавателя" << endl;
    r.pop(t1);
    r.output();
}